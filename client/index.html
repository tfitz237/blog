<head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
  body {
  	background: #333;
  }
  .modal.bottom-sheet {
  	max-height: 50%;
  }
  </style>
</head>
<body ng-app="app" ng-controller="PostCtrl">
<header>
	<nav class="cyan darken-2">
		<div class="nav-wrapper container">
			<a href="#" class="brand-title">tfitz237</a>
			<a href="#" class="right"><i class="material-icons">more_vert</i></a>
		</div>
		
	</nav>
</header>
<main>
	<div class="row">
		<div class="col s12 m6" ng-repeat="post in posts">
			<div class="card medium cyan lighten-2">
			    <div class="card-image waves-effect waves-block waves-light">
			      <img class="activator" src="{{post.image}}">
			    </div>
			    <div class="card-content">
			      <span class="card-title activator grey-text text-darken-4">{{post.title}}<i class="material-icons right">more_vert</i></span>
			      <p>{{post.text|limitTo:120}}<span ng-if="post.text.length > 120">...</span>
			    </div>
			    <div class="card-reveal grey lighten-2">
			      <span class="card-title grey-text text-darken-4">{{post.title}}<i class="material-icons right">close</i></span>
			      <p>{{post.text}}</p>

			    </div>
			  </div>
		</div>
	</div>

	  <div class="fixed-action-btn horizontal" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large cyan lighten-2">
      <i class="large material-icons">mode_edit</i>
    </a>
    <ul>
      <li><a class="btn-floating cyan darken-3 modal-trigger" href="#modalQuote"><i class="material-icons">format_quote</i></a></li>
      <li><a class="btn-floating cyan darken-2 modal-trigger" href="#modalMusic"><i class="material-icons">music_note</i></a></li>
      <li><a class="btn-floating cyan darken-1 modal-trigger" href="#modalText"><i class="material-icons">publish</i></a></li>
    </ul>
  </div>


</main>
<footer>
  <div id="modalMusic" class="modal bottom-sheet">
    <div class="modal-content">
    <div class="row">
    	<div class="col s6">
      <div class="input-field">
      	<input type="text" name="" id="musicTitle" ng-model="newPost.music.title">
      	<label for="musicTitle">Post Title</label>
     </div>
     	</div>
     	<div class="col s6">
     <div class="file-field input-field">
      <div class="btn">
        <span>Music</span>
        <input type="file" ng-model="newPost.music.file">
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
      </div>
    </div>
    </div>
    <div class="input-field col s12">
            <textarea id="textarea1" class="materialize-textarea" length="1000" ng-model="newPost.music.text"></textarea>
            <label for="textarea1">Post content</label>
    </div>
    <div class="modal-footer">
      <button class=" modal-action modal-close waves-effect waves-green btn-flat" ng-click="addPost(newPost.music)">Add Post</button>
    </div>
  </div>
    <div id="modalQuote" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Modal Header</h4>
      <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
      <div id="modalText" class="modal bottom-sheet">
    <div class="modal-content">
      <h4>Modal Header</h4>
      <p>A bunch of text</p>
    </div>
    <div class="modalFooter">
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
  </div>
</footer>

<script>
 $(document).ready(function(){
    $('.modal-trigger').leanModal();
  });
  </script>
	
</body>